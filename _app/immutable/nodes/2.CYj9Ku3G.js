import{t as N,a as S}from"../chunks/x1Rgd2Hk.js";import"../chunks/bZYcwsXL.js";import{h,t as E,L,N as O,v as q,m as C,w as B,q as H,x as l,y as u,z as p,A as d,B as J,C as K,D as P,F as R,G as U}from"../chunks/Dw3ld9Rr.js";import{a as j,l as D,e as A,s as G}from"../chunks/yXiWFvV5.js";import{i as Q}from"../chunks/D4tZ43Zx.js";const Y=Symbol("is custom element"),Z=Symbol("is html");function m(e){if(h){var a=!1,s=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;I(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;I(e,"checked",null),e.checked=r}}};e.__on_r=s,E(s),j()}}function I(e,a,s,n){var r=z(e);h&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=s)&&(a==="loading"&&(e[L]=s),e.removeAttribute(a))}function z(e){return e.__attributes??(e.__attributes={[Y]:e.nodeName.includes("-"),[Z]:e.namespaceURI===O})}function k(e,a,s=a){var n=q();D(e,"input",r=>{var o=r?e.defaultValue:e.value;if(o=y(e)?g(o):o,s(o),n&&o!==(o=a())){var v=e.selectionStart,i=e.selectionEnd;e.value=o??"",i!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(i,e.value.length))}}),(h&&e.defaultValue!==e.value||C(a)==null&&e.value)&&s(y(e)?g(e.value):e.value),B(()=>{var r=a();y(e)&&r===g(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function y(e){var a=e.type;return a==="number"||a==="range"}function g(e){return e===""?null:+e}var V=N("<pre> </pre>"),F=N('<button>SÃ¤tt API-nyckel</button> <input placeholder="material"> <input placeholder="date"> <input placeholder="user"> <button>Skicka</button> <!>',1);function re(e){let a=p({material:"",date:"",user:""}),s=p(null);async function n(){console.log("Sending booking:",JSON.stringify(l(a)));const t=localStorage.getItem("api_key"),c=await fetch("https://script.google.com/macros/s/AKfycbxcuTCjJvjeqzx1UMYZoRy2ZvQdqfw7pakY1w2qxR1x03QtgHGwSNfHUB3-IID_QvwZ/exec?key="+t,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({booking:l(a)})});J(s,await c.json())}function r(){const t=prompt("Skriv in API-nyckel:")??"";localStorage.setItem("api_key",t)}var o=F(),v=H(o),i=u(v,2);m(i);var f=u(i,2);m(f);var _=u(f,2);m(_);var b=u(_,2),x=u(b,2);{var T=t=>{var c=V(),w=K(c,!0);P(c),R(M=>G(w,M),[()=>JSON.stringify(l(s),null,2)],U),S(t,c)};Q(x,t=>{l(s)&&t(T)})}A("click",v,r),k(i,()=>l(a).material,t=>d(a,l(a).material=t)),k(f,()=>l(a).date,t=>d(a,l(a).date=t)),k(_,()=>l(a).user,t=>d(a,l(a).user=t)),A("click",b,n),S(e,o)}export{re as component};
